package defpackage;

import android.util.Base64;
import defpackage.C35951qF1;
import io.reactivex.rxjava3.functions.Function;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.List;

/* loaded from: classes4.dex */
public final class M7 implements Function {
    public final /* synthetic */ QZ3 a;
    public final /* synthetic */ N7 b;
    public final /* synthetic */ C47199yf6 c;

    public M7(QZ3 qz3, N7 n7, C47199yf6 c47199yf6) {
        this.a = qz3;
        this.b = n7;
        this.c = c47199yf6;
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:110:0x0170  */
    /* JADX WARN: Removed duplicated region for block: B:117:0x018d A[ADDED_TO_REGION] */
    /* JADX WARN: Removed duplicated region for block: B:121:0x0196  */
    /* JADX WARN: Removed duplicated region for block: B:126:0x01bc A[LOOP:1: B:124:0x01b6->B:126:0x01bc, LOOP_END] */
    /* JADX WARN: Removed duplicated region for block: B:130:0x01d0  */
    /* JADX WARN: Removed duplicated region for block: B:144:0x01fe  */
    /* JADX WARN: Removed duplicated region for block: B:234:0x02c6  */
    /* JADX WARN: Removed duplicated region for block: B:238:0x02e9  */
    /* JADX WARN: Removed duplicated region for block: B:68:0x00dc  */
    /* JADX WARN: Removed duplicated region for block: B:81:0x0125  */
    /* JADX WARN: Removed duplicated region for block: B:83:0x012d  */
    /* JADX WARN: Removed duplicated region for block: B:87:0x0130  */
    /* JADX WARN: Removed duplicated region for block: B:88:0x012a  */
    /* JADX WARN: Type inference failed for: r1v33, types: [java.util.ArrayList] */
    /* JADX WARN: Type inference failed for: r1v8, types: [java.util.List] */
    /* JADX WARN: Type inference failed for: r1v9 */
    /* JADX WARN: Type inference failed for: r3v9, types: [java.util.List] */
    @Override // io.reactivex.rxjava3.functions.Function
    /*
        Code decompiled incorrectly, please refer to instructions dump.
    */
    public final Object apply(Object obj) {
        VE0 ve0;
        C42637vF1 c42637vF1;
        List list;
        List list2;
        List list3;
        EnumC27796k9 enumC27796k9;
        EnumC27796k9 enumC27796k92;
        int i;
        boolean z;
        boolean z2;
        boolean z3;
        VVb[] vVbArr;
        Iterator it;
        Iterator it2;
        Iterator it3;
        String valueOf;
        boolean z4;
        Object obj2;
        AbstractC19776e9 m;
        AbstractC19776e9 m2;
        Wlk wlk;
        boolean z5;
        int i2;
        String str;
        PYg c;
        boolean z6;
        String str2;
        String str3;
        EnumC27796k9 enumC27796k93;
        String str4;
        U8 u8;
        C36308qW3 c36308qW3;
        String g;
        int b;
        String str5;
        C38757sL6 c38757sL6;
        C21113f9 c21113f9;
        C21113f9 c21113f92;
        C36308qW3 c36308qW32;
        EnumC27796k9 enumC27796k94;
        boolean z7;
        boolean z8;
        C37114r7 c37114r7;
        EnumC27796k9 enumC27796k95;
        int i3;
        C42363v29 a;
        String str6;
        C42363v29 a2;
        String str7;
        String str8;
        String str9;
        Z59 z59;
        Z59 z592;
        C35951qF1 c35951qF1;
        C35951qF1.c cVar;
        AF1 af1;
        C37288rF1[] c37288rF1Arr;
        C35951qF1 c35951qF12;
        C35951qF1.c cVar2;
        AF1 af12;
        C37288rF1[] c37288rF1Arr2;
        C35951qF1 c35951qF13;
        C35951qF1.c cVar3;
        AF1 af13;
        C37288rF1[] c37288rF1Arr3;
        VE0 ve02;
        Iuk iuk = ((XE0) obj).e;
        if (iuk instanceof VE0) {
            ve0 = (VE0) iuk;
        } else {
            ve0 = null;
        }
        if (ve0 != null) {
            c42637vF1 = ve0.e;
        } else {
            c42637vF1 = null;
        }
        QZ3 qz3 = this.a;
        boolean q = qz3.q();
        N7 n7 = this.b;
        if (!q) {
            if (c42637vF1 != null) {
                ve02 = new VE0(c42637vF1);
            } else {
                ve02 = null;
            }
            n7.a.b(ve02, qz3);
        }
        LinkedHashMap linkedHashMap = new LinkedHashMap();
        C38757sL6 c38757sL62 = C38757sL6.a;
        if (c42637vF1 != null && (c35951qF13 = c42637vF1.b) != null && (cVar3 = c35951qF13.a) != null && (af13 = cVar3.a) != null && (c37288rF1Arr3 = af13.t) != null) {
            list = Arrays.asList(c37288rF1Arr3);
        } else {
            list = c38757sL62;
        }
        if (c42637vF1 != null && (c35951qF12 = c42637vF1.b) != null && (cVar2 = c35951qF12.a) != null && (af12 = cVar2.b) != null && (c37288rF1Arr2 = af12.t) != null) {
            list2 = Arrays.asList(c37288rF1Arr2);
        } else {
            list2 = c38757sL62;
        }
        if (c42637vF1 != null && (c35951qF1 = c42637vF1.b) != null && (cVar = c35951qF1.a) != null && (af1 = cVar.c) != null && (c37288rF1Arr = af1.t) != null) {
            list3 = Arrays.asList(c37288rF1Arr);
        } else {
            list3 = c38757sL62;
        }
        Iterator it4 = AbstractC41828ue3.Z0(AbstractC41828ue3.Z0(list, list2), list3).iterator();
        boolean z9 = false;
        while (true) {
            boolean hasNext = it4.hasNext();
            enumC27796k9 = EnumC27796k9.Y;
            enumC27796k92 = EnumC27796k9.a;
            i = 1;
            if (!hasNext) {
                break;
            }
            C37288rF1 c37288rF1 = (C37288rF1) it4.next();
            if (c37288rF1 != null && (c37114r7 = c37288rF1.X) != null) {
                if (list2.contains(c37288rF1)) {
                    enumC27796k9 = EnumC27796k9.b;
                } else if (list.contains(c37288rF1)) {
                    enumC27796k95 = enumC27796k92;
                    if (c37114r7.a != 18 && (!c37114r7.g() || (c37114r7.g() && !z9))) {
                        i3 = c37114r7.a;
                        if (i3 == 5) {
                            z9 = true;
                        }
                        String valueOf2 = String.valueOf(i3);
                        C36308qW3 c36308qW33 = new C36308qW3(c37114r7, null, null, null, 14);
                        a = c37288rF1.a();
                        if (a == null && (z592 = a.b) != null) {
                            str6 = z592.b();
                        } else {
                            str6 = null;
                        }
                        a2 = c37288rF1.a();
                        if (a2 == null && (z59 = a2.b) != null) {
                            str7 = z59.a();
                        } else {
                            str7 = null;
                        }
                        AbstractC19776e9 i4 = N7.i(str6, str7);
                        String g2 = AbstractC47631yyk.g(c37114r7);
                        int b2 = AbstractC47631yyk.b(c37114r7.a);
                        if (c37288rF1.c == 3) {
                            str8 = "";
                        } else {
                            str8 = (String) c37288rF1.t;
                        }
                        if (str8 != null) {
                            str9 = "";
                        } else {
                            str9 = str8;
                        }
                        linkedHashMap.put(valueOf2, new U8(valueOf2, enumC27796k95, new C21113f9(i4, b2, g2, str9, (List) null, 0, 112), c36308qW33, 2, 3, 64));
                    }
                }
                enumC27796k95 = enumC27796k9;
                if (c37114r7.a != 18) {
                    i3 = c37114r7.a;
                    if (i3 == 5) {
                    }
                    String valueOf22 = String.valueOf(i3);
                    C36308qW3 c36308qW332 = new C36308qW3(c37114r7, null, null, null, 14);
                    a = c37288rF1.a();
                    if (a == null) {
                    }
                    str6 = null;
                    a2 = c37288rF1.a();
                    if (a2 == null) {
                    }
                    str7 = null;
                    AbstractC19776e9 i42 = N7.i(str6, str7);
                    String g22 = AbstractC47631yyk.g(c37114r7);
                    int b22 = AbstractC47631yyk.b(c37114r7.a);
                    if (c37288rF1.c == 3) {
                    }
                    if (str8 != null) {
                    }
                    linkedHashMap.put(valueOf22, new U8(valueOf22, enumC27796k95, new C21113f9(i42, b22, g22, str9, (List) null, 0, 112), c36308qW332, 2, 3, 64));
                }
            }
        }
        if (qz3.u == SZ3.a) {
            InterfaceC36274qUa interfaceC36274qUa = (InterfaceC36274qUa) qz3.c.y.i();
            if (interfaceC36274qUa != null) {
                z8 = Ukk.d(interfaceC36274qUa);
            } else {
                z8 = false;
            }
            if (z8) {
                z = true;
                if (qz3.o()) {
                    InterfaceC36274qUa interfaceC36274qUa2 = (InterfaceC36274qUa) qz3.c.x.i();
                    if (interfaceC36274qUa2 != null) {
                        z7 = Ukk.d(interfaceC36274qUa2);
                    } else {
                        z7 = false;
                    }
                    if (z7) {
                        z2 = true;
                        if (!qz3.f() && (z || z2)) {
                            z3 = true;
                        } else {
                            z3 = false;
                        }
                        if (c42637vF1 != null && (vVbArr = c42637vF1.i0) != null) {
                            ?? asList = Arrays.asList(vVbArr);
                            C18956dXc c18956dXc = this.c.a;
                            C21715fbd c21715fbd = YVc.b;
                            Iterable iterable = (Iterable) asList;
                            ArrayList arrayList = new ArrayList(AbstractC44502we3.g0(iterable, 10));
                            it = iterable.iterator();
                            while (it.hasNext()) {
                                arrayList.add(((VVb) it.next()).b);
                            }
                            c18956dXc.J(c21715fbd, arrayList);
                            if (!z3) {
                                asList = new ArrayList();
                                for (Object obj3 : iterable) {
                                    if (!Imk.f(((VVb) obj3).b)) {
                                        asList.add(obj3);
                                    }
                                }
                            }
                            it2 = ((Iterable) asList).iterator();
                            while (it2.hasNext()) {
                                VVb vVb = (VVb) it2.next();
                                C37114r7 c37114r72 = vVb.b;
                                if (c37114r72 != null) {
                                    if (c37114r72.h()) {
                                        valueOf = AbstractC31823n9f.m(System.identityHashCode(c37114r72), "LensCardAction:");
                                    } else {
                                        valueOf = String.valueOf(c37114r72.a);
                                    }
                                    U8 u82 = (U8) linkedHashMap.get(valueOf);
                                    boolean f = Imk.f(c37114r72);
                                    Wlk wlk2 = X8.a;
                                    if (u82 != null) {
                                        AbstractC19776e9 c2 = u82.c.a.c();
                                        if (!(c2 instanceof C14421a9)) {
                                            wlk2 = new Z8(c2);
                                        }
                                        it3 = it2;
                                        wlk = wlk2;
                                        obj2 = null;
                                    } else {
                                        if (f) {
                                            InterfaceC36274qUa interfaceC36274qUa3 = (InterfaceC36274qUa) qz3.c.L.i();
                                            if (interfaceC36274qUa3 != null) {
                                                interfaceC36274qUa3.expose();
                                                C9753Rtj value = interfaceC36274qUa3.getValue();
                                                if (value != null) {
                                                    z5 = value.getBoolValue();
                                                    if (!z5 && vVb.b.j() && (c = vVb.b.c()) != null && c.Y == i) {
                                                        C20078eN6 c20078eN6 = vVb.b.c().X;
                                                        Object obj4 = C5994Kw3.c;
                                                        String str10 = c20078eN6.b;
                                                        byte[] bArr = c20078eN6.c;
                                                        it3 = it2;
                                                        if (bArr != null) {
                                                            if (bArr.length == 0) {
                                                                str2 = null;
                                                                z6 = false;
                                                            } else {
                                                                z6 = false;
                                                                str2 = Base64.encodeToString(bArr, 0);
                                                            }
                                                        } else {
                                                            z6 = false;
                                                            str2 = null;
                                                        }
                                                        byte[] bArr2 = c20078eN6.t;
                                                        if (bArr2 != null) {
                                                            if (bArr2.length == 0) {
                                                                z6 = false;
                                                            } else {
                                                                z6 = false;
                                                                str3 = Base64.encodeToString(bArr2, 0);
                                                                z4 = f;
                                                                obj2 = null;
                                                                m = new C18430d9(C47741z3j.j(str10, str2, str3, null), z6);
                                                            }
                                                        }
                                                        str3 = null;
                                                        z4 = f;
                                                        obj2 = null;
                                                        m = new C18430d9(C47741z3j.j(str10, str2, str3, null), z6);
                                                    } else {
                                                        it3 = it2;
                                                        z4 = f;
                                                        obj2 = null;
                                                        ZVb zVb = vVb.c;
                                                        i2 = zVb.a;
                                                        if (i2 != 2) {
                                                            if (i2 != 2) {
                                                                str = "";
                                                            } else {
                                                                str = zVb.b;
                                                            }
                                                            m = new C18430d9(JV0.f("sticker", "external", "url", str).appendQueryParameter("animated", "true").build(), true);
                                                        } else {
                                                            m = N7.m(zVb);
                                                        }
                                                    }
                                                }
                                            }
                                            z5 = false;
                                            if (!z5) {
                                            }
                                            it3 = it2;
                                            z4 = f;
                                            obj2 = null;
                                            ZVb zVb2 = vVb.c;
                                            i2 = zVb2.a;
                                            if (i2 != 2) {
                                            }
                                        } else {
                                            it3 = it2;
                                            z4 = f;
                                            obj2 = null;
                                            m = N7.m(vVb.c);
                                        }
                                        if (z4) {
                                            m2 = C14421a9.a;
                                        } else {
                                            m2 = N7.m(vVb.Y);
                                        }
                                        if (!(m instanceof C14421a9)) {
                                            if (m2 instanceof C14421a9) {
                                                wlk2 = new Z8(m);
                                            } else {
                                                wlk2 = new Y8(m, m2);
                                            }
                                        }
                                        wlk = wlk2;
                                    }
                                    if (u82 != null && (enumC27796k94 = u82.b) != null) {
                                        enumC27796k93 = enumC27796k94;
                                    } else if (c37114r72.h()) {
                                        enumC27796k93 = enumC27796k92;
                                    } else {
                                        enumC27796k93 = enumC27796k9;
                                    }
                                    if (u82 == null || (c36308qW32 = u82.d) == null) {
                                        str4 = valueOf;
                                        u8 = u82;
                                        c36308qW3 = new C36308qW3(c37114r72, null, null, null, 14);
                                    } else {
                                        c36308qW3 = c36308qW32;
                                        str4 = valueOf;
                                        u8 = u82;
                                    }
                                    if (u8 == null || (c21113f92 = u8.c) == null || (g = c21113f92.c) == null) {
                                        g = AbstractC47631yyk.g(c37114r72);
                                    }
                                    String str11 = g;
                                    if (u8 != null && (c21113f9 = u8.c) != null) {
                                        b = c21113f9.b;
                                    } else {
                                        b = AbstractC47631yyk.b(c37114r72.a);
                                    }
                                    int i5 = b;
                                    String str12 = vVb.t;
                                    if (str12 == null) {
                                        str5 = "";
                                    } else {
                                        str5 = str12;
                                    }
                                    String str13 = vVb.X;
                                    if (str13 != null) {
                                        c38757sL6 = Collections.singletonList(str13);
                                    } else {
                                        c38757sL6 = c38757sL62;
                                    }
                                    linkedHashMap.put(str4, new U8(str4, enumC27796k93, new C21113f9(wlk, i5, str11, str5, c38757sL6, 0, 96), c36308qW3, 2, 3, 64));
                                } else {
                                    it3 = it2;
                                }
                                it2 = it3;
                                i = 1;
                            }
                        }
                        return AbstractC41828ue3.u1(linkedHashMap.values());
                    }
                }
                z2 = false;
                if (!qz3.f()) {
                }
                z3 = false;
                if (c42637vF1 != null) {
                    ?? asList2 = Arrays.asList(vVbArr);
                    C18956dXc c18956dXc2 = this.c.a;
                    C21715fbd c21715fbd2 = YVc.b;
                    Iterable iterable2 = (Iterable) asList2;
                    ArrayList arrayList2 = new ArrayList(AbstractC44502we3.g0(iterable2, 10));
                    it = iterable2.iterator();
                    while (it.hasNext()) {
                    }
                    c18956dXc2.J(c21715fbd2, arrayList2);
                    if (!z3) {
                    }
                    it2 = ((Iterable) asList2).iterator();
                    while (it2.hasNext()) {
                    }
                }
                return AbstractC41828ue3.u1(linkedHashMap.values());
            }
        }
        z = false;
        if (qz3.o()) {
        }
        z2 = false;
        if (!qz3.f()) {
        }
        z3 = false;
        if (c42637vF1 != null) {
        }
        return AbstractC41828ue3.u1(linkedHashMap.values());
    }
}
